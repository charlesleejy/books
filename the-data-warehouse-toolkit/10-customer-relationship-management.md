# Chapter 10: Customer Relationship Management (CRM)

### Overview
- **Purpose**: To guide the design of dimensional models for Customer Relationship Management (CRM) systems within a data warehouse.
- **Scope**: Includes the design of CRM fact tables and dimensions, handling of slowly changing dimensions, and a case study to illustrate practical application.

### 10.1 Customer Dimension
- **Definition**: Contains descriptive information about customers.
- **Key Attributes**:
  - **Customer Key**: Surrogate key.
  - **Customer ID**: Unique identifier for the customer.
  - **Customer Name**: Full name of the customer.
  - **Customer Type**: Type of customer (e.g., individual, corporate).
  - **Customer Status**: Current status of the customer (e.g., active, inactive).
  - **Customer Address**: Geographic details including address, city, state, and postal code.
  - **Customer Contact Information**: Phone number, email address.
  - **Customer Segment**: Segment or category to which the customer belongs (e.g., premium, standard).
  - **Customer Join Date**: Date when the customer first joined or was registered.

### 10.2 Account Dimension
- **Definition**: Contains descriptive information about customer accounts.
- **Key Attributes**:
  - **Account Key**: Surrogate key.
  - **Account ID**: Unique identifier for the account.
  - **Account Type**: Type of account (e.g., savings, checking, credit).
  - **Account Status**: Current status of the account (e.g., active, closed).
  - **Account Open Date**: Date when the account was opened.
  - **Account Balance**: Current balance of the account.
  - **Customer Key**: Links to the Customer Dimension.

### 10.3 Interaction Fact Table
- **Definition**: Captures details of customer interactions and activities.
- **Grain**: One row per customer interaction or activity.
- **Key Measures**:
  - **Interaction Count**: Number of interactions.
  - **Interaction Duration**: Duration of the interaction.
  - **Interaction Outcome**: Result of the interaction (e.g., resolved, unresolved).
  - **Customer Satisfaction Score**: Rating given by the customer for the interaction.

- **Foreign Keys**:
  - **Customer Key**: Links to the Customer Dimension.
  - **Account Key**: Links to the Account Dimension (if applicable).
  - **Time Key**: Links to the Time Dimension.
  - **Interaction Type Key**: Links to the Interaction Type Dimension.
  - **Channel Key**: Links to the Channel Dimension (e.g., phone, email, in-person).

### 10.4 Interaction Type Dimension
- **Definition**: Contains descriptive information about types of interactions.
- **Key Attributes**:
  - **Interaction Type Key**: Surrogate key.
  - **Interaction Type**: Description of the interaction type (e.g., inquiry, complaint, support).

### 10.5 Channel Dimension
- **Definition**: Contains descriptive information about communication channels.
- **Key Attributes**:
  - **Channel Key**: Surrogate key.
  - **Channel Type**: Type of communication channel (e.g., phone, email, in-person).
  - **Channel Details**: Additional details about the channel (e.g., phone number, email address).

### 10.6 Handling Changing Dimensions
- **Slowly Changing Dimensions (SCD)**:
  - **Type 1**: Overwrite old data with new data (e.g., updating customer contact information).
  - **Type 2**: Add a new row for each change, preserving historical data (e.g., tracking changes in customer status).
  - **Type 3**: Add a new column to capture the change (e.g., tracking previous and current customer segments).

### 10.7 CRM Analysis
- **Purpose**: To provide insights into customer behaviors, preferences, and interactions to improve customer satisfaction and retention.
- **Metrics**:
  - **Customer Lifetime Value (CLV)**: Total revenue generated by a customer over their lifetime.
  - **Customer Acquisition Cost (CAC)**: Cost associated with acquiring a new customer.
  - **Churn Rate**: Percentage of customers who stop using the service over a specific period.
  - **Customer Satisfaction (CSAT)**: Average satisfaction score given by customers.

### 10.8 Case Study: CRM for a Financial Institution
- **Background**: A financial institution needs to manage and analyze its customer relationships, interactions, and account activities.
- **Requirements Gathering**:
  - **Stakeholders**: CRM managers, customer service representatives, marketing team.
  - **Key Questions**:
    - What customer metrics are critical for decision-making?
    - How are customer interactions and account activities tracked?
    - What dimensions are necessary for detailed analysis?

- **Findings**:
  - **Metrics**: Interaction count, interaction duration, customer satisfaction score, account balances, customer lifetime value.
  - **Dimensions**: Time, Customer, Account, Interaction Type, Channel.

- **Dimensional Model Design**:
  - **Fact Tables**: Interaction fact table, account activity fact table.
  - **Dimensions**: Time, Customer, Account, Interaction Type, Channel.
  - **Grain**: Detailed interactions and account activities for each customer.

- **Implementation**:
  - **Interaction Fact Table**: Captures details of customer interactions.
  - **Account Activity Fact Table**: Captures detailed account activities and balances.
  - **Customer Dimension**: Includes attributes such as customer name, type, status, and segment.
  - **Account Dimension**: Includes attributes such as account type, status, and balance.
  - **Time Dimension**: Captures daily, monthly, and yearly time attributes.
  - **Interaction Type Dimension**: Includes attributes such as interaction type and description.
  - **Channel Dimension**: Includes attributes such as channel type and details.

- **Outcome**:
  - **Actionable Insights**: Enabled the institution to analyze customer behaviors, improve service quality, and develop targeted marketing strategies.
  - **Business Benefits**: Enhanced customer satisfaction, increased customer retention, and optimized marketing efforts.

### Summary
- **Key Takeaways**:
  - Designing effective dimensional models for CRM involves defining the grain, identifying key measures, and developing comprehensive dimension tables.
  - Handling changing dimensions and using interaction fact tables can significantly enhance data analysis and customer relationship management.
  - Real-world case studies illustrate the practical application of these concepts in financial institutions and other customer-centric industries.

These detailed notes provide a comprehensive overview of Chapter 10, covering the design of CRM fact tables, customer and account dimensions, handling changing dimensions, and a case study on CRM for a financial institution.